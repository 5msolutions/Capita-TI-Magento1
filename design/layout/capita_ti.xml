<?xml version="1.0" encoding="UTF-8"?>
<layout>
    <adminhtml_capita_request_index>
        <reference name="content">
            <block type="capita_ti/adminhtml_request" />
            <block type="capita_ti/adminhtml_cron_messages" />
        </reference>
    </adminhtml_capita_request_index>

    <adminhtml_capita_request_new>
        <reference name="head">
            <action method="setCanLoadExtJs"><flag>1</flag></action>
        </reference>
        <reference name="left">
            <block type="capita_ti/adminhtml_request_new_tabs" name="capita_ti_new_request_tabs">
                <!-- these methods create ajax sections -->
                <action method="addGeneralTab" />
                <action method="addProductsTab" />
                <action method="addCategoriesTab" />
                <action method="addBlocksTab" />
                <action method="addPagesTab" />
            </block>
        </reference>
        <reference name="content">
            <block type="capita_ti/adminhtml_request_new" name="capita_ti_new_request" />
        </reference>
    </adminhtml_capita_request_new>

    <adminhtml_capita_request_productstab>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_product_grid" name="request_tab_products_grid" />
            <block type="capita_ti/adminhtml_request_new_tab_product_serializer" name="request_tab_products_grid_serializer" />
            <block type="capita_ti/adminhtml_request_new_tab_product_attributes" name="request_tab_products_attributes" />
        </block>
    </adminhtml_capita_request_productstab>

    <adminhtml_capita_request_productsgrid>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_product_grid" name="request_tab_products_grid" />
        </block>
    </adminhtml_capita_request_productsgrid>

    <adminhtml_capita_request_categoriestab>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_categories" name="request_tab_categories" />
        </block>
    </adminhtml_capita_request_categoriestab>

    <adminhtml_capita_request_categoriesgrid>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_category_grid" name="request_tab_categories_grid" />
        </block>
    </adminhtml_capita_request_categoriesgrid>

    <adminhtml_capita_request_blockstab>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_blocks" name="request_tab_blocks" />
        </block>
    </adminhtml_capita_request_blockstab>

    <adminhtml_capita_request_blocksgrid>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_block_grid" name="request_tab_blocks_grid" />
        </block>
    </adminhtml_capita_request_blocksgrid>

    <adminhtml_capita_request_pagestab>
        <block type="core/text_list" name="root" output="toHtml">
            <block type="capita_ti/adminhtml_request_new_tab_pages" name="request_tab_pages" />
        </block>
    </adminhtml_capita_request_pagestab>

    <adminhtml_capita_request_view>
        <reference name="content">
            <block type="capita_ti/adminhtml_request_view" />
        </reference>
    </adminhtml_capita_request_view>

    <adminhtml_catalog_product_translate>
        <reference name="left">
            <block type="capita_ti/adminhtml_request_new_tabs" name="capita_ti_new_request_tabs">
                <!-- not ajax but static -->
                <action method="addTab"><id>general</id><block>capita_ti/adminhtml_request_new_tab_general</block></action>
                <action method="addTab"><id>products</id><block>capita_ti/adminhtml_request_new_tab_products</block></action>
            </block>
        </reference>
        <reference name="content">
            <block type="capita_ti/adminhtml_request_new" name="capita_ti_new_request" />
        </reference>
    </adminhtml_catalog_product_translate>

    <adminhtml_capita_help_requests>
        <update handle="popup" />
        <reference name="content">
            <block type="capita_ti/adminhtml_view_container" name="capita_ti_help_requests">
                <action method="setHeaderText" translate="text">
                    <text>About Translation Requests</text>
                </action>
                <block type="adminhtml/template" template="capita/ti/help/requests.phtml" name="capita_ti_view_requests" />
            </block>
        </reference>
    </adminhtml_capita_help_requests>
</layout>